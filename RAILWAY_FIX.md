# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ Build Failed –≤ Railway

## –ü—Ä–æ–±–ª–µ–º–∞

Railway –ø—ã—Ç–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ (frontend), –∞ –Ω–µ –∏–∑ –ø–∞–ø–∫–∏ `backend`, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É:
```
npm error notarget No matching version found for @twa-dev/sdk@^1.1.0
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Root Directory –≤ Railway

**–≠—Ç–æ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!**

1. –ó–∞–π–¥–∏—Ç–µ –≤ Railway Dashboard
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å (backend)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings**
4. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Root Directory"**
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `backend`
6. –ù–∞–∂–º–∏—Ç–µ **Save**

Railway —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –ø–∞–ø–∫–æ–π `backend` –∏ –Ω–µ –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å frontend –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Build

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Root Directory:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Build & Deploy**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
   - **Build Command:** `npm install && npm run build` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è)
   - **Start Command:** `npm start` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è)

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∫–æ–º–∞–Ω–¥—ã –∏–∑ `backend/package.json` –∏ `backend/nixpacks.toml`.

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π

1. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è Root Directory Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π
2. –ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ **"Redeploy"** –≤—Ä—É—á–Ω—É—é
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ backend –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üìù –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –≤ –∫–æ–¥–µ

1. ‚úÖ –°–æ–∑–¥–∞–Ω `backend/nixpacks.toml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Railway
2. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `railway.json` - —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
3. ‚úÖ –°–æ–∑–¥–∞–Ω `.railwayignore` - –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ frontend —Ñ–∞–π–ª–æ–≤ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –º–µ—Ä–∞)
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `backend/Dockerfile` - –∑–∞–º–µ–Ω–µ–Ω `npm ci` –Ω–∞ `npm install` (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º package-lock.json)

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

**Root Directory = "backend"** - —ç—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ! –ë–µ–∑ —ç—Ç–æ–≥–æ Railway –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è —Å–æ–±—Ä–∞—Ç—å –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç, –≤–∫–ª—é—á–∞—è frontend.

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Root Directory –≤ –ª–æ–≥–∞—Ö –¥–µ–ø–ª–æ—è –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
[phases.install]
cmds = ["npm install"]  # –í –ø–∞–ø–∫–µ backend

[phases.build]
cmds = ["npm run build"]  # –í –ø–∞–ø–∫–µ backend

[start]
cmd = "npm start"  # –í –ø–∞–ø–∫–µ backend
```

–ò –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –ø—Ä–æ `@twa-dev/sdk` –∏–ª–∏ –¥—Ä—É–≥–∏–µ frontend –ø–∞–∫–µ—Ç—ã.

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: npm ci –æ—à–∏–±–∫–∞

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:
```
npm error The `npm ci` command can only install with an existing package-lock.json
```

**–†–µ—à–µ–Ω–∏–µ:** Dockerfile —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω! `npm ci` –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `npm install`, —á—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É.

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Root Directory –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Dockerfile –¥–µ–ø–ª–æ–π –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ!
